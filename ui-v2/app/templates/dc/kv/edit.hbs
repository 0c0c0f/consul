{{#app-view}}
    {{#block-slot 'breadcrumbs'}}
        <ol>
            <li><a href={{href-to 'dc.kv.index'}}>Key / Values</a></li>
{{#if (not-eq parent.Key '/') }}
{{#each (slice 0 -1 (split parent.Key '/')) as |breadcrumb index|}}
            <li><a href={{href-to 'dc.kv.folder' (join '/' (append (slice 0 (add index 1) (split parent.Key '/')) ''))}}>{{breadcrumb}}/</a></li>
{{/each}}
{{/if}}
        </ol>
    {{/block-slot}}
    {{#block-slot 'header'}}
        <h1>
{{#if item.Key }}
            {{left-trim item.Key parent.Key }}
{{else}}
            &nbsp;
{{/if}}
        </h1>
    {{/block-slot}}
    {{#block-slot 'content'}}
        {{partial 'dc/kv/form'}}
        {{#if session}}
            <div>
                <h2><a href="{{env 'CONSUL_DOCUMENTATION_URL'}}/internals/sessions.html#session-design" rel="help noopener noreferrer" target="_blank">Lock Session</a></h2>
                <dl>
                    <dt>Name</dt>
                    <dd>{{session.Name}}</dd>
                    <dt>Agent</dt>
                    <dd>
                        <a href={{href-to 'dc.nodes.show' session.Node }}>{{session.Node}}</a>
                    </dd>
                    <dt>ID</dt>
                    <dd>{{session.ID}}</dd>
                    <dt>Behavior</dt>
                    <dd><{{session.Behavior}}/dd>
                    <dt>Delay</dt>
                    <dd><{{session.LockDelay}}/dd>
                    <dt>TTL</dt>
                    <dd>{{session.TTL}}</dd>
                    <dt>Health Checks</dt>
                    <dd>
            {{#if (gt session.Checks 0)}}
                        {{ join ', ' session.Checks}}
            {{/if}}
                    </dd>
                </dl>
            {{#confirmation-dialog message='Are you sure you want to invalidate this session?'}}
                {{#block-slot 'action' as |confirm|}}
                    <button type="button" class="type-delete" {{ action confirm "invalidateSession" session }}>Invalidate Session</button>
                {{/block-slot}}
                {{#block-slot 'dialog'}}
                    <p>
                        Are you sure you want to invalidate this session?
                    </p>
                    <button type="button" class="type-cancel" {{ action cancel}}>Cancel</button>
                {{/block-slot}}
            {{/confirmation-dialog}}
            </div>
        {{/if}}
    {{/block-slot}}
{{/app-view}}