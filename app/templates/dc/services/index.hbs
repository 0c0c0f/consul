{{#app-view}}
    {{#block-slot 'header'}}
        <h1>
            Services
        </h1>
{{#if (gt items.length 0) }}
        {{catalog-filter search=filters.s status=filters.status onchange=(action 'filter')}}
{{/if}}
    {{/block-slot}}
    {{#block-slot 'content'}}
{{#if (gt filtered.length 0) }}
        <table>
            <thead>
                <tr>
                    <th>Service</th>
                    <th>Node Health</th>
                    <th>Tags</th>
                </tr>
            </thead>
            {{#tabular-collection
                items=filtered
                tagName=''
                cell-layout=(fixed-grid-layout 1150 46) as |item index|
            }}
                    <td>
                        <a href={{href-to 'dc.services.show' item.Name }}>{{item.Name}}</a>
                    </td>
                    <td>
                        <dl>
                            <dt>Healthchecks Passing</dt>
                            <dd>{{item.ChecksPassing}}</dd>
                            <dt>Healthchecks Critical</dt>
                            <dd>{{item.ChecksCritical}}</dd>
                        </dl>
                    </td>
                    <td>
                        Need to switch API to the public catalog one
                    </td>
            {{/tabular-collection}}
        </table>
{{else}}
        <p>
            There are no services.
        </p>
{{/if}}
    {{/block-slot}}
{{/app-view}}

